<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Redirecting...</title>
  <script>
    (function() {
    // This code is used to detect the root URL of the application assuming it may have at most one level
    // of nesting under domain url (i.e. in github pages https://org.github.io/project)
    window.rootUrl = '/'
    const { pathname, origin } = window.location;
    const parts = pathname.split('/').filter(Boolean); // removes empty segments
    
    // Case 1: at root (e.g., https://example.com/)
    if (parts.length === 0) return;
    
    const markerUrl = `/${parts[0]}/404.html.detect-root.js`;
    
    const script = document.createElement('script');
    script.src = markerUrl;
    script.async = false;
    script.onerror = () => {
      // Fail silently
    };
    
    const current = document.currentScript;
    if (current && current.parentNode) {
      current.parentNode.insertBefore(script, current.nextSibling);
    }
    })();
  </script>
  <script>
    // Store original URL and redirect to base
    sessionStorage.setItem('spa-redirect', window.location.pathname);

    // Redirect to index.html with the original path as a parameter
    window.location.replace(window.rootUrl);
  </script>
</head>
<body>
  <p>Redirecting...</p>
</body>
</html>